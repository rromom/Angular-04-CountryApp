import{A as h,B as v,C as E,D as r,E as l,F as K,G as ce,H as N,I as M,J as L,K as F,L as V,M as f,N as j,O as le,P as pe,T as me,V as ue,W as de,Y as Q,Z as ge,a as ee,b as J,c as te,d as W,e as ne,f as ie,g as oe,h as x,i as re,j as B,k as ae,l as P,m as T,n as se,o as Y,p as D,q as a,r as g,s as m,t as w,u as d,v as c,w as i,x as o,y as p,z as O}from"./chunk-LRONJWHK.js";var y=class n{constructor(t){this.http=t;this.loadFromLocal()}apiUrl="https://restcountries.com/v3.1";cacheStore={byCapital:{term:"",countries:[]},byCountry:{term:"",countries:[]},byRegion:{region:"",countries:[]}};saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocal(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesHttpRequest(t,e){let s=`${this.apiUrl}/${t}/${e}`;return this.http.get(s).pipe(W(u=>J([])),ie(2e3))}searchCountryByAlphaCode(t){let e=`${this.apiUrl}/alpha/${t}`;return this.http.get(e).pipe(te(s=>s.length>0?s[0]:null),W(()=>J(null)))}searchCapital(t){return this.getCountriesHttpRequest("capital",t).pipe(x(e=>this.cacheStore.byCapital={term:t,countries:e}),x(()=>this.saveToLocalStorage()))}searchCountry(t){return this.getCountriesHttpRequest("name",t).pipe(x(e=>this.cacheStore.byCountry={term:t,countries:e}),x(()=>this.saveToLocalStorage()))}searchRegion(t){return this.getCountriesHttpRequest("region",t).pipe(x(e=>this.cacheStore.byRegion={region:t,countries:e}),x(()=>this.saveToLocalStorage()))}static \u0275fac=function(e){return new(e||n)(ae(pe))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};var b=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["shared-loading-spinner"]],standalone:!1,decls:15,vars:0,consts:[[1,"spinner-container"],["width","30","height","30","viewBox","0 0 38 38","xmlns","http://www.w3.org/2000/svg"],["x1","8.042%","y1","0%","x2","65.682%","y2","23.865%","id","a"],["stop-color","#fff","stop-opacity","0","offset","0%"],["stop-color","#fff","stop-opacity",".631","offset","63.146%"],["stop-color","#fff","offset","100%"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)"],["d","M36 18c0-9.94-8.06-18-18-18","id","Oval-2","stroke","url(#a)","stroke-width","2"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","0.9s","repeatCount","indefinite"],["fill","#fff","cx","36","cy","18","r","1"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"span"),r(2,"Buscando "),o(),se(),i(3,"svg",1)(4,"defs")(5,"linearGradient",2),p(6,"stop",3)(7,"stop",4)(8,"stop",5),o()(),i(9,"g",6)(10,"g",7)(11,"path",8),p(12,"animateTransform",9),o(),i(13,"circle",10),p(14,"animateTransform",9),o()()()()())},styles:[".spinner-container[_ngcontent-%COMP%]{align-items:center;background-color:#000;border-radius:20px;bottom:15px;color:#fff;display:flex;padding:5px 10px;position:fixed;right:15px}"]})};var R=class n{deBouncer=new ee;deBouncerSubscribe;placeholder="";initialValue="";onValue=new Y;onDebounce=new Y;emitValue(t){this.onValue.emit(t)}ngOnInit(){this.deBouncerSubscribe=this.deBouncer.pipe(ne(300)).subscribe(t=>{this.onDebounce.emit(t)})}ngOnDestroy(){this.deBouncerSubscribe?.unsubscribe()}deBouncerEmit(t){this.deBouncer.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["shared-search"]],inputs:{placeholder:"placeholder",initialValue:"initialValue"},outputs:{onValue:"onValue",onDebounce:"onDebounce"},standalone:!1,decls:3,vars:2,consts:[["txtInput",""],[1,"d-flex"],["type","search",1,"form-control","me-sm-2",3,"keyup","placeholder","value"]],template:function(e,s){if(e&1){let u=O();i(0,"div",1)(1,"input",2,0),h("keyup",function(){P(u);let Ce=E(2);return T(s.deBouncerEmit(Ce.value))}),o()()}e&2&&(a(),c("placeholder",s.placeholder)("value",s.initialValue))},encapsulation:2})};var A=class n{message="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["shared-alert-message"]],inputs:{message:"message"},standalone:!1,decls:5,vars:1,consts:[[1,"alert","alert-dismissible","alert-warning"],[1,"alert-heading"],[1,"mb-0"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"h4",1),r(2,"Warning!"),o(),i(3,"p",2),r(4),o()()),e&2&&(a(4),l(" ",s.message,""))},encapsulation:2})};var be=n=>({"table-info":n}),Se=n=>["/countries/by",n];function xe(n,t){if(n&1&&(i(0,"div"),p(1,"shared-alert-message",2),o()),n&2){let e=v();a(),c("message",e.message)}}function Ie(n,t){if(n&1&&(i(0,"tr",6)(1,"th",7),r(2),o(),i(3,"td"),r(4),o(),i(5,"td"),p(6,"img",8),o(),i(7,"td"),r(8),o(),i(9,"td"),r(10),o(),i(11,"td"),r(12),N(13,"number"),o(),i(14,"td")(15,"a",9),r(16,"See more"),o()()()),n&2){let e=t.$implicit,s=t.index,u=t.even;c("ngClass",K(11,be,u)),a(2),l(" ",s+1," "),a(2),l(" ",e.flag," "),a(2),c("src",e.flags.svg,D)("alt",e.name.common),a(2),l(" ",e.name.common," "),a(2),l(" ",e.capital," "),a(2),l(" ",M(13,9,e.population)," "),a(3),c("routerLink",K(13,Se,e.cca3))}}function _e(n,t){if(n&1&&(i(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),r(4,"Id"),o(),i(5,"th",4),r(6,"Icon"),o(),i(7,"th",4),r(8,"Flag"),o(),i(9,"th",4),r(10,"Country Name"),o(),i(11,"th",4),r(12,"Name"),o(),i(13,"th",4),r(14,"Population"),o()()(),i(15,"tbody"),d(16,Ie,17,15,"tr",5),o()()),n&2){let e=v();a(16),c("ngForOf",e.countries)}}var S=class n{countries=[];message="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["countries-country-table"]],inputs:{countries:"countries",message:"message"},standalone:!1,decls:3,vars:2,consts:[["table",""],[4,"ngIf","ngIfElse"],[3,"message"],[1,"table","table-hover"],["scope","col"],["class","table",3,"ngClass",4,"ngFor","ngForOf"],[1,"table",3,"ngClass"],["scope","row"],[3,"src","alt"],[1,"alert-link",3,"routerLink"]],template:function(e,s){if(e&1&&d(0,xe,2,1,"div",1)(1,_e,17,1,"ng-template",null,0,L),e&2){let u=E(2);c("ngIf",s.countries.length===0)("ngIfElse",u)}},dependencies:[F,V,f,de,A,j],styles:["img[_ngcontent-%COMP%]{width:25px}"]})};function Ee(n,t){n&1&&p(0,"shared-loading-spinner")}var H=class n{constructor(t){this.countriesService=t}countries=[];isLoading=!1;initialValue="";ngOnInit(){let{term:t,countries:e}=this.countriesService.cacheStore.byCapital;this.countries=e,this.initialValue=t}searchByCapital(t){this.isLoading=!0,this.countriesService.searchCapital(t).subscribe(e=>{this.countries=e,this.isLoading=!1})}static \u0275fac=function(e){return new(e||n)(g(y))};static \u0275cmp=m({type:n,selectors:[["app-by-capital-page"]],standalone:!1,decls:6,vars:3,consts:[["placeholder","Search by Capital",3,"onDebounce","initialValue"],[4,"ngIf"],["message","There are not countries to show",3,"countries"]],template:function(e,s){e&1&&(i(0,"h1"),r(1," By Capital "),o(),i(2,"shared-search",0),h("onDebounce",function(_){return s.searchByCapital(_)}),o(),p(3,"hr"),d(4,Ee,1,0,"shared-loading-spinner",1),p(5,"countries-country-table",2)),e&2&&(a(2),c("initialValue",s.initialValue),a(2),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[f,b,R,S],encapsulation:2})};function Re(n,t){n&1&&p(0,"shared-loading-spinner")}var U=class n{constructor(t){this.countriesService=t}countries=[];isLoading=!1;initialValue="";ngOnInit(){let{term:t,countries:e}=this.countriesService.cacheStore.byCountry;this.countries=e,this.initialValue=t}searchByCountry(t){this.isLoading=!0,this.countriesService.searchCountry(t).subscribe(e=>[this.countries=e,this.isLoading=!1])}static \u0275fac=function(e){return new(e||n)(g(y))};static \u0275cmp=m({type:n,selectors:[["app-by-country-page"]],standalone:!1,decls:6,vars:3,consts:[["placeholder","Search by Country",3,"onDebounce","initialValue"],[4,"ngIf"],["message","There are not countries to show",3,"countries"]],template:function(e,s){e&1&&(i(0,"h1"),r(1," By Country "),o(),i(2,"shared-search",0),h("onDebounce",function(_){return s.searchByCountry(_)}),o(),p(3,"hr"),d(4,Re,1,0,"shared-loading-spinner",1),p(5,"countries-country-table",2)),e&2&&(a(2),c("initialValue",s.initialValue),a(2),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[f,b,R,S],encapsulation:2})};var Be=(n,t)=>({"btn-outline-primary":n,"btn-primary":t});function Pe(n,t){if(n&1){let e=O();i(0,"button",5),h("click",function(){let u=P(e).$implicit,_=v();return T(_.searchByRegion(u))}),r(1),o()}if(n&2){let e=t.$implicit,s=v();c("ngClass",ce(2,Be,s.selectedRegion!==e,s.selectedRegion===e)),a(),l(" ",e," ")}}function Te(n,t){n&1&&p(0,"shared-loading-spinner")}var q=class n{constructor(t){this.countriesService=t}countries=[];regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;isLoading=!1;ngOnInit(){let{region:t,countries:e}=this.countriesService.cacheStore.byRegion;this.countries=e,this.selectedRegion=t}searchByRegion(t){this.isLoading=!0,this.selectedRegion=t,this.countriesService.searchRegion(t).subscribe(e=>[this.countries=e,this.isLoading=!1])}static \u0275fac=function(e){return new(e||n)(g(y))};static \u0275cmp=m({type:n,selectors:[["app-by-region-page"]],standalone:!1,decls:9,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2","type","button",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],["message","Yuo don't select any Region",3,"countries"],["type","button",1,"btn","mx-2",3,"click","ngClass"]],template:function(e,s){e&1&&(i(0,"h1"),r(1," By Region "),o(),p(2,"hr"),i(3,"div",0)(4,"div",1),d(5,Pe,2,5,"button",2),o()(),p(6,"hr"),d(7,Te,1,0,"shared-loading-spinner",3),p(8,"countries-country-table",4)),e&2&&(a(5),c("ngForOf",s.regions),a(2),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[F,V,f,b,S],encapsulation:2})};function De(n,t){n&1&&(i(0,"div",2)(1,"h4",3),r(2,"Wait, please"),o()())}function we(n,t){if(n&1&&(i(0,"div")(1,"div",4)(2,"div",5)(3,"h2"),r(4," Country: "),i(5,"strong"),r(6),o()()()(),i(7,"div",4)(8,"div",6)(9,"h3"),r(10," Flag "),o(),p(11,"img",7),o(),i(12,"div",8)(13,"h3"),r(14," Information "),o(),i(15,"ul",9)(16,"li",10)(17,"strong"),r(18," Population: "),o(),i(19,"span",11),r(20),N(21,"number"),o()(),i(22,"li",10)(23,"strong"),r(24," Code: "),o(),i(25,"span",11),r(26),o()()()()(),i(27,"div",4)(28,"div",8)(29,"h3"),r(30," Translations "),o(),i(31,"div",12)(32,"span",13),r(33),o(),i(34,"span",13),r(35),o(),i(36,"span",13),r(37),o(),i(38,"span",13),r(39),o(),i(40,"span",13),r(41),o(),i(42,"span",13),r(43),o(),i(44,"span",13),r(45),o(),i(46,"span",13),r(47),o(),i(48,"span",13),r(49),o(),i(50,"span",13),r(51),o()()()()()),n&2){let e=v();a(6),l(" ",e.country.name.common," "),a(5),c("src",e.country.flags.svg,D)("alt",e.country.name.common),a(9),l(" ",M(21,15,e.country.population),""),a(6),l(" ",e.country.cca3,""),a(7),l(" ",e.country.translations.ara.common," "),a(2),l(" ",e.country.translations.bre.common," "),a(2),l(" ",e.country.translations.ces.common," "),a(2),l(" ",e.country.translations.cym.common," "),a(2),l(" ",e.country.translations.deu.common," "),a(2),l(" ",e.country.translations.est.common," "),a(2),l(" ",e.country.translations.fin.common," "),a(2),l(" ",e.country.translations.ita.common," "),a(2),l(" ",e.country.translations.kor.common," "),a(2),l(" ",e.country.translations.per.common," ")}}var z=class n{constructor(t,e,s){this.activateRoute=t;this.countriesService=e;this.router=s}country;ngOnInit(){this.activateRoute.params.pipe(oe(({id:t})=>this.countriesService.searchCountryByAlphaCode(t))).subscribe(t=>t?this.country=t:this.router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||n)(g(me),g(y),g(ue))};static \u0275cmp=m({type:n,selectors:[["countries-country-page"]],standalone:!1,decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-dismissible","alert-info","text-center"],[1,"alert-heading"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary","rounded-pill"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","rounded-pill","m-1"]],template:function(e,s){if(e&1&&d(0,De,3,0,"ng-template",null,0,L)(2,we,52,17,"div",1),e&2){let u=E(1);a(2),c("ngIf",s.country)("ngIfElse",u)}},dependencies:[f,j],encapsulation:2})};var Oe=[{path:"by-capital",component:H},{path:"by-country",component:U},{path:"by-region",component:q},{path:"by/:id",component:z},{path:"**",redirectTo:"by-capital"}],G=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=w({type:n});static \u0275inj=B({imports:[Q.forChild(Oe),Q]})};var ye=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=w({type:n});static \u0275inj=B({imports:[le,G,ge]})};export{ye as CountriesModule};
